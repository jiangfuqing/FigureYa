---
title: "FigureYa127HeatmapPie"
author: "Xiaofan Lu, Taojun Ye"
reviewer: "Ying Ge"
date: "2025-5-20"
output: html_document
---

# Academic Citation
If you use this code in your work or research, we kindly request that you cite our publication:

Xiaofan Lu, et al. (2025). FigureYa: A Standardized Visualization Framework for Enhancing Biomedical Data Interpretation and Research Efficiency. iMetaMed. https://doi.org/10.1002/imm3.70005


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
# 设置knitr代码块的全局选项 / Set global options for knitr code chunks
```

## 需求描述

绘制相关性热图并添加相关系数扇形图，使用TCGA GBM数据，原图复现。

## Requirement description

Draw a correlation heatmap and add a correlation coefficient pie chart. Use TCGA GBM data to reproduce the original image.

![](example.png)

出自<https://www.tandfonline.com/doi/full/10.1080/2162402X.2017.1328339>

from<https://www.tandfonline.com/doi/full/10.1080/2162402X.2017.1328339>

Figure 4. TIM-3-related T cell immunity and inflammatory activities in glioma. (A, B) The relationship between TIM-3 and T cell immunity in CGGA and TCGA data set.

## 应用场景

左侧是通路的表达矩阵（用gsva算出来的）热图。其实单画这个图，展示通路的表达变化，就可以放进文章里了。还可以参考FigureYa61GSVA的展示方式。

右侧用饼图展示各个通路跟某一个基因（例文用的是TIM-3）的相关性，若正相关则顺时针填充扇形图（红色），若负相关则逆时针填充扇形图（绿色）

## Application scenarios

On the left is the expression matrix of the pathway (calculated using GSVA) heatmap. In fact, just drawing this diagram to show the expression changes of pathways can be included in the article. You can also refer to the display method of FigureYa61GSVA.

On the right side, use a pie chart to show the correlation between each pathway and a certain gene (e.g. TIM-3). If there is a positive correlation, fill the pie chart clockwise (red), and if there is a negative correlation, fill the pie chart counterclockwise (green)

## 环境设置


## Environment settings


```{r}
source("install_dependencies.R")


```

加载包

library packages
