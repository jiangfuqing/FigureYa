---
title: "FigureYa303panCircos"
params:
  author: "Xiaofan Lu; Yasi Zhang"
  reviewer: "Ying Ge"
  date: "2025-05-20"
output: html_document
---

**Author(s)**: `r params$author`
**Reviewer(s)**: `r params$reviewer`
**Date**: `r params$date`

# Academic Citation
If you use this code in your work or research, we kindly request that you cite our publication:

Xiaofan Lu, et al. (2025). FigureYa: A Standardized Visualization Framework for Enhancing Biomedical Data Interpretation and Research Efficiency. iMetaMed. https://doi.org/10.1002/imm3.70005


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# 需求描述
# Demand description

绘制下图。

Draw the following figure.

![](example.jpg)

出自：<https://academic.oup.com/bib/article/23/3/bbac118/6567704?login=true>

图1. 癌症与组织中衰老水平的综合量化分析。
（C）各癌症类型的平均细胞衰老（CS）评分。从内圈到外圈依次展示组织类型、癌症类型以及平均细胞衰老（CS）评分。

Source: <https://academic.oup.com/bib/article/23/3/bbac118/6567704?login=true>

Figure1. Comprehensive quantification of senescence levels in cancers and tissues.
(C) Average CS scores in individual cancer types. Tissue types, cancer types and average CS scores are shown from the inner circle to the outer circle.

# 应用场景
# Application Scenarios

在泛癌中根据组织类别、特定评分，绘制弦图。

文中多个图可以用我们众筹过的FigureYa来实现：

- Figure 4F ligand–receptorinteractions，可参考FigureYa178ReceptorLigand <https://k.youshop10.com/BWjYsgX=>
- Figure 6B，可参考FigureYa35批量bestSeparation <https://k.youshop10.com/nesUttBS>
- Figure 6E Consensus clustering，可参考FigureYa202consensusGene <https://k.youshop10.com/dNHdlWen>
- FigureYa 6G Sankey diagram，可参考FigureYa25sankey <https://k.youshop10.com/1vm3In-4>
- FigureYa 6H Hierarchical clustering of GSEA scores，可参考FigureYa71ssGSEA <https://k.youshop10.com/hhH631te>
- 更多pancancer数据分析展示可参考 <https://k.youshop10.com/C8RkTgR3>
- 更多单细胞分析及展示可参考 <https://k.youshop10.com/McawGY6=>
- 更多圆圈图画法可参考 <https://k.youshop10.com/Ch9kUjuR>

Draw chord diagrams in pan-cancer based on tissue categories and specific scores.

Several figures in the article can be implemented using our crowdfunded FigureYa:

- Figure 4F ligand–receptor interactions, see FigureYa178ReceptorLigand <https://k.youshop10.com/BWjYsgX=>
- Figure 6B, see FigureYa35 batch bestSeparation <https://k.youshop10.com/nesUttBS>
- Figure 6E Consensus clustering, see FigureYa202consensusGene <https://k.youshop10.com/dNHdlWen>
- FigureYa 6G Sankey diagram, see FigureYa25sankey <https://k.youshop10.com/1vm3In-4>
- FigureYa 6H Hierarchical clustering of GSEA scores, see FigureYa71ssGSEA <https://k.youshop10.com/hhH631te>
- More pan-cancer data analysis and visualization see <https://k.youshop10.com/C8RkTgR3>
- More single-cell analysis and visualization see <https://k.youshop10.com/McawGY6=>
- More circle diagram drawing methods see <https://k.youshop10.com/Ch9kUjuR>

# 环境设置
# Environment Setup


```{r}
source("install_dependencies.R")

```

# 加载包
# Loading packages

```{r}
library(circlize)
library(ComplexHeatmap)

# 显示英文报错信息
# Show English error messages
Sys.setenv(LANGUAGE = "en")

# 禁止chr转成factor
# Prevent character-to-factor conversion
options(stringsAsFactors = FALSE)
```

# 输入文件的生成
# Generate Input Files

easy_input.xlsx:
Here, the CS.score values in the figure are randomly generated and can be replaced with any other values you are interested in.
If you still want to draw a pancancer plot, keep all the preceding columns unchanged and only modify the values in the last column (CS.score).
This is not limited to displaying pancancer data. Once you understand the code for plotting, you can use it flexibly.

easy_input.xlsx: 这里随机生成图中的得分CS.score，可替换成你自己感兴趣的其他数值。
如果还是画pancancer图，前面各列可以保持不变，只改变最后一列CS.score里的数值。
不限于展示pancancer数据，读懂画图部分的代码，就可以灵活运用。
