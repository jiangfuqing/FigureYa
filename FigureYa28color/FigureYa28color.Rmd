---
title: "FigureYa28 color"
author: "Ying Ge; Yijing Chen"
date: "2025-5-20"
output: html_document
---

# Academic Citation
If you use this code in your work or research, we kindly request that you cite our publication:

Xiaofan Lu, et al. (2025). FigureYa: A Standardized Visualization Framework for Enhancing Biomedical Data Interpretation and Research Efficiency. iMetaMed. https://doi.org/10.1002/imm3.70005


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## 需求描述
## Requirement description

虽然有那么多调色板：

<https://www.nceas.ucsb.edu/~frazier/RSpatialGuides/colorPaletteCheatsheet.pdf>

还有那么多配色方案：

<https://cran.r-project.org/web/packages/ggsci/vignettes/ggsci.html>

当我为paper结果图选颜色时，还是会对自己的审美不自信。

那就模仿你（或者你老板）心仪的paper的配色方案吧！

Although there are so many palettes:

<https://www.nceas.ucsb.edu/~frazier/RSpatialGuides/colorPaletteCheatsheet.pdf>

And so many color schemes:

<https://cran.r-project.org/web/packages/ggsci/vignettes/ggsci.html>

I still get unsure of my own aesthetic when it comes to picking colors for the paper results chart.

Then mimic the color scheme of your (or your boss's) preferred paper!

## 应用场景
## Application scenario

本套代码要做的就是从你心仪的paper里提取它的配色方案。

如果你需要大量的颜色，那就选一篇颜色丰富的paper。

What this code is going to do is extract its color scheme from your preferred paper.

If you need a lot of colors, then pick a colorful paper.

## 环境设置
## Environment setting

用到Y叔推荐的`rPlotter`包<https://mp.weixin.qq.com/s/ZrS8IQOMSwx9R3006HYryA>，先安装它

Use the `rPlotter` package recommended by Uncle Y <https://mp.weixin.qq.com/s/ZrS8IQOMSwx9R3006HYryA>, install it first

```r


install.packages(c("ggplot2", "stringr", "reshape2", "dichromat"))
install("EBImage")

library(devtools)
install_github("ramnathv/rblocks")
install_github("woobe/rPlotter")
```

```{r}
source("install_dependencies.R")
library(rPlotter)
library(scales)

Sys.setenv(LANGUAGE = "en") #显示英文报错信息 display English error messages
options(stringsAsFactors = FALSE) #禁止chr转成factor prohibit the conversion of chr to factor
```

## 提取颜色
## Extract color

### 提取Figure 2的颜色
### Extract the color of Figure 2

此处以<https://www.nature.com/articles/nature22973>这篇paper为例，提取正文Figure的颜色

同一篇paper里的图通常会使用同一套配色方案，这样全文看起来才协调。

因此，通常挑选其中最具代表性的1个Figure提取颜色就够了，例文的Figure 2最为典型。

Use this paper <https://www.nature.com/articles/nature22973> as an example to extract the colors of the figure in the main text.

Figures in the same paper usually use the same color scheme, so that the whole text looks coherent.

Therefore, it is usually enough to select one of the most representative Figure to extract the color, Figure 2 of the example paper is the most typical.
