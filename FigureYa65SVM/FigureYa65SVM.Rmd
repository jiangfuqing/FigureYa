---
title: "FigureYa65SVM"
author: "Dongqiang Zeng, Yin Li; Ying Ge, Yijing Chen"
date: "2025-5-20"
output: html_document
---

# Academic Citation
If you use this code in your work or research, we kindly request that you cite our publication:

Xiaofan Lu, et al. (2025). FigureYa: A Standardized Visualization Framework for Enhancing Biomedical Data Interpretation and Research Efficiency. iMetaMed. https://doi.org/10.1002/imm3.70005


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## 需求描述
## Requirement description

利用svm-rfe和lasso logistic regression进行特征变量筛选，重现原文方法

Feature variable screening using svm-rfe and lasso logistic regression to reproduce the original method

![](example.png)

出自<http://ascopubs.org/doi/full/10.1200/JCO.2016.68.2153>

from<http://ascopubs.org/doi/full/10.1200/JCO.2016.68.2153>

## 应用场景
## Application scenario

svm-rfe（support vector machine - recursive feature elimination）是基于支持向量机的机器学习方法，
通过删减svm产生的特征向量来寻找最佳变量。

lasso lr（logistic regression）也是机器学习的方法之一，通过寻找分类错误最小时的λ来确定变量。

主要用于筛选特征变量，构建最佳分类模型。

svm-rfe (support vector machine - recursive feature elimination) is a machine learning method based on support vector machines, which seeks the optimal variables by eliminating the feature vectors generated by svm.

lasso lr (logistic regression) is also one of the machine learning methods that identifies variables by finding the λ with the smallest classification error.

It is mainly used to filter the feature variables to construct the best classification model.

## 环境设置
## Environment setting

```{r, message=FALSE}
source("install_dependencies.R")

#install.packages("glmnet")
#if (!requireNamespace("BiocManager", quietly = TRUE))
    #install.packages("BiocManager")
#BiocManager::install("sigFeature", version = "3.8")

library(tidyverse)
library(glmnet)
source('msvmRFE.R')   #文件夹内自带 it comes with it in the folder
library(VennDiagram)
library(sigFeature)
library(e1071)
library(caret)
library(randomForest)
```

## 输入文件
## Input file

easy_input.csv，带有分组信息的矩阵。此处用例文自带的GSE75041，经过处理后得到，处理过程见文件夹中的HowToGetEasyInput.R。

可自行准备，至少包含以下信息：

- 第一列：sample ID
- 第二列：样本分组信息，最好为二分类变量
- 第三列之后：表达矩阵

easy_input.csv, a matrix with grouping information. Here, the example text's own GSE75041 is used, obtained after processing, and the processing procedure can be found in the HowToGetEasyInput.R file within the folder.

It can be prepared by yourself and contains at least the following information:

- First column: sample ID
- Second column: sample grouping information, preferably for dichotomous variables
- After the third column: the expression matrix

```{r}
train <- read.csv("easy_input.csv",row.names = 1,
                  as.is = F) #后面svmRFE函数要求group的类型为factor the following svmRFE function requires the type of group to be factor

dim(train)
train[1:4,1:4]
```

下面就以train作为输入，分别进行lasso和SVM-REF的变量筛选

Next, take train as the input to filter the variables of lasso and SVM-REF respectively

## 图A，用LASSO-logitstic-Algorithm进行特征选择
## Figure A, feature selection with LASSO-logitstic-Algorithm

### 找特征
### Find features
