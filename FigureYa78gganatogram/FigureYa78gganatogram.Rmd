---
title: "FigureYa78gganatogram"
author: "Ying Ge, Taojun Ye"
date: "2025-5-20"
output: html_document
---


# Academic Citation
If you use this code in your work or research, we kindly request that you cite our publication:

Xiaofan Lu, et al. (2025). FigureYa: A Standardized Visualization Framework for Enhancing Biomedical Data Interpretation and Research Efficiency. iMetaMed. https://doi.org/10.1002/imm3.70005


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
# 设置knitr代码块的全局选项 / Set global options for knitr code chunks
```

## 需求描述

用FigureYa55panCancer输出的基因在TCGA + GTEx的表达量TPM值（easy_input.csv文件）作为输入，用gganatogram画出感兴趣的基因在各个器官里的表达分布。

## Requirement description

Use the TPM values of the expression levels of the genes output by FigureYa55panCancer in TCGA+GTEx (easy_input. csv file) as input, and plot the expression distribution of the genes of interest in various organs using gganatogram.

## 应用场景

gganatogramR包介绍：<https://github.com/jespermaag/gganatogram>，<https://mp.weixin.qq.com/s/BlRT8I0RB1o-Mi4TEWhFrQ>

文章里类似的图举例：<https://mp.weixin.qq.com/s/Uc6syOjFTOduxZfVaZRPqw>

在小丫画图公众号回复“器官”，查看更多介绍。

## Application scenarios

Introduction to the GGanatoramR package:< https://github.com/jespermaag/gganatogram >，< https://mp.weixin.qq.com/s/BlRT8I0RB1o-Mi4TEWhFrQ >

Examples of similar images in the article:< https://mp.weixin.qq.com/s/Uc6syOjFTOduxZfVaZRPqw >

Reply to "organ" on Xiaoya Pictorial official account for more information.

## 环境设置

## Environment settings

```{r}
source("install_dependencies.R")
# 安装gganatogram包（从GitHub安装，当前行被注释掉） | Install the gganatogram package (from GitHub, current line is commented out)
#devtools::install_github("jespermaag/gganatogram")

# 加载gganatogram包，用于绘制器官图 | Load the gganatogram package for plotting anatomical diagrams
library(gganatogram)

# 加载stringr包，提供字符串处理函数 | Load the stringr package for string manipulation functions
library(stringr)

# 加载gridExtra包，用于组合多个图形 | Load the gridExtra package for arranging multiple plots
library(gridExtra)

# 设置环境语言为英文，使报错信息显示为英文 | Set the environment language to English to display error messages in English
Sys.setenv(LANGUAGE = "en")

# 禁止将字符向量自动转换为因子类型 | Disable automatic conversion of character vectors to factors
options(stringsAsFactors = FALSE)
```

## 输入文件预处理

如果你的数据已经整理成very_easy_input.csv的格式，就可以跳过这步，进入“开始画图”。

此处以FigureYa55panCancer输出的的基因在TCGA + GTEx的表达量TPM值（easy_input.csv文件）为例，需要把TCGA的癌症名称跟包里的organ对应上。

参照GEPIA help的Differential analysis：<http://gepia.cancer-pku.cn/help.html>，在此基础上添加gganatogram包的organ，整理成TCGA_organ.txt文件，欢迎来小丫画图群里探讨这些对应关系。

## Input file preprocessing

If your data has already been organized into the format of very easy input. csv, you can skip this step and enter "Start Drawing".

Taking the TPM value of gene expression in TCGA+GTEx output from FigureYa55panCancer as an example (easy_input. csv file), it is necessary to match the cancer name in TCGA with the 'organ' in the package.

Refer to GEPIA help's differential analysis:< http://gepia.cancer-pku.cn/help.html >On this basis, add the GAN of the gganatogram package and organize it into a TCGA_organ. txt file. Welcome to explore these corresponding relationships in the Xiaoya drawing group.
