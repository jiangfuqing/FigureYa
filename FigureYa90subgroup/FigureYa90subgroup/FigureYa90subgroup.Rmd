---
title: "FigureYa90subgroup"
author: "Dongqiang Zeng, Taojun Ye"
reviewer: "Ying Ge"
date: "2025-5-20"
output: html_document
---

# Academic Citation
If you use this code in your work or research, we kindly request that you cite our publication:

Xiaofan Lu, et al. (2025). FigureYa: A Standardized Visualization Framework for Enhancing Biomedical Data Interpretation and Research Efficiency. iMetaMed. https://doi.org/10.1002/imm3.70005


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
# 设置knitr的全局代码块选项 / Set global chunk options for knitr
```

## 需求描述

计算HR和P value，画出森林图。

## Requirement description

Calculate HR and P values and draw a forest map.

![](example.png)

出自<http://cancerimmunolres.aacrjournals.org/content/early/2019/03/06/2326-6066.CIR-18-0436>

from<http://cancerimmunolres.aacrjournals.org/content/early/2019/03/06/2326-6066.CIR-18-0436>

## 应用场景

临床亚组分析。

## Application scenarios

Clinical subgroup analysis.

## 环境设置


## Environment settings


```r

install.packages("forestplot")
```

加载包

library packages

```{r}
source("install_dependencies.R")
# 加载tidyverse包，提供数据处理和可视化工具
# Load the tidyverse package, which provides data processing and visualization tools
library(tidyverse)

# 加载生存分析包，用于生存数据的统计分析
# Load the survival package for statistical analysis of survival data
library(survival)

# 加载森林图包，用于创建森林图可视化结果
# Load the forestplot package to create forest plot visualizations
library(forestplot)

# 设置环境语言为英文，确保报错信息以英文显示
# Set the environment language to English to display error messages in English
Sys.setenv(LANGUAGE = "en")

# 禁止字符串自动转换为因子类型，避免数据类型意外转换
# Prevent automatic conversion of strings to factors to avoid unexpected data type conversions
options(stringsAsFactors = FALSE)
```

## 输入文件

easy_input.csv，score（连续变量）和score_binary（二分类变量）至少包含其中一列，后面分别提供两种计算方式。

如果你的数据已经整理成subgroup.csv的格式，就可以跳过这步，直接进入“开始画图”。

## Input file

EasyInput. csv, Score (continuous variable) and Score_binary (binary variable) should contain at least one column, with two calculation methods provided later.

If your data has already been organized into subgroup.csv format, you can skip this step and directly enter "Start Drawing".
