---
title: "FigureYa182RFSurvV2"
author: "Xiaofan Lu"
reviewer: "Ying Ge, Junyi Shen"
date: "2025-5-20"
output: html_document
---
# Academic Citation
If you use this code in your work or research, we kindly request that you cite our publication:

Xiaofan Lu, et al. (2025). FigureYa: A Standardized Visualization Framework for Enhancing Biomedical Data Interpretation and Research Efficiency. iMetaMed. https://doi.org/10.1002/imm3.70005


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# 需求描述

# Requirement

根据随机生存森林分析进一步筛选并优化变量，从而达到降维的功能，完成Figure5的作图
Based on the random survival forest analysis, further screen and optimize the variables to achieve the function of dimensionality reduction and complete the plotting of Figure5

![](example.png)

出自<https://www.frontiersin.org/articles/10.3389/fonc.2020.00595/full>
fromhttps://www.frontiersin.org/articles/10.3389/fonc.2020.00595/full

FIGURE 5 | (A) Error rate for the data as a function of the classification tree; (B) out-of-bag importance values for the predictors.

# 应用场景

# Application Scenarios

使用随机森林对生存数据降维，根据变量重要性排序并筛选基因组成prognostic signature
The survival data was dimensionally reduced using random forest, and the prognostic signature of genetic composition was sorted and screened according to the importance of variables

在“小丫画图”公众号回复“182”，看小伙伴对阈值设置等问题的讨论。
Reply "182" on the "Xiaoya Drawing" public account to see your friends' discussions on issues such as threshold Settings.

# 环境设置

# Environment Setup


```{r}
source("install_dependencies.R")
```

```{r, eval=FALSE}

install.packages("survival")
install.packages("randomForestSRC")

# randomSurvivalForest包来源：https://cran.r-project.org/src/contrib/Archive/randomSurvivalForest/
install.packages("randomSurvivalForest_3.6.4.tar.gz", repos = NULL, type="source")
```

加载包
Loading package

```{r}
library(survival)
library(randomForestSRC)
library(randomSurvivalForest)

Sys.setenv(LANGUAGE = "en") #显示英文报错信息  # Display an English error message
options(stringsAsFactors = FALSE) #禁止chr转成factor  # prohibit chr from being converted to factor
```

自定义函数
Custom function
