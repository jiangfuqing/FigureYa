---
title: "FigureYa187RMS"
author: "Xiaofan Lu"
reviewer: "Ying Ge, Junyi Shen"
date: "2025-5-20"
output: html_document
---
# Academic Citation
If you use this code in your work or research, we kindly request that you cite our publication:

Xiaofan Lu, et al. (2025). FigureYa: A Standardized Visualization Framework for Enhancing Biomedical Data Interpretation and Research Efficiency. iMetaMed. https://doi.org/10.1002/imm3.70005


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# 需求描述

# Requirement

用c-index比较两个预后模型，并画出图A。
Compare the two prognostic models using c-index and draw Figure A.

![](example.png)

出自<https://onlinelibrary.wiley.com/doi/full/10.1111/cpr.12861>
fromhttps://onlinelibrary.wiley.com/doi/full/10.1111/cpr.12861

FIGURE 6 RMS curves for RPGI and the integrated PCPI scores are plotted for: A, the TCGA cohort, B, validation set 1 and C, validation set 2. Each point represents the RMS time of corresponding RPGI and PCPI scores. The RMS curves show a larger slope in all three data sets for PCPI, indicating superior estimation of survival with PCPI. C-indexes for RPGI and PCPI are also provided. P values represent the difference between the two models in terms of C-index.

# 应用场景

# Application Scenarios

计算限制性生存时间，并比较不同因素的预后价值
Calculate the restrictive survival time and compare the prognostic value of different factors

# 环境设置

# Environment Setup


```{r}
source("install_dependencies.R")
```

```{r eval=FALSE}

BiocManager::install("survcomp")
install.packages("survRM2")
```

加载包
Loading package

```{r}
library(survival)
library(survcomp)
library(survRM2)
Sys.setenv(LANGUAGE = "en") #显示英文报错信息  # Display an English error message
options(stringsAsFactors = FALSE) #禁止chr转成factor  # prohibit chr from being converted to factor
```

自定义函数，计算、画图
Custom functions, calculation, and drawing
