---
title: "FigureYa236circGroup"
author: "Xiaofan Lu"
reviewers: "Ying Ge,Hui Huang"
date: "2025-5-20"
output: html_document
---
# Academic Citation
If you use this code in your work or research, we kindly request that you cite our publication:

Xiaofan Lu, et al. (2025). FigureYa: A Standardized Visualization Framework for Enhancing Biomedical Data Interpretation and Research Efficiency. iMetaMed. https://doi.org/10.1002/imm3.70005


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# 需求描述

你好，想众筹一下这个图，用圆圈图的方式展示不同分组的关系。网上没有找到可以实现的代码。最好是R语言做。

# Requirement Description

Hello, I would like to crowdfund this diagram to show the relationship between different groups in the form of a circle diagram. There is no code available online that can be implemented. It's best to do it in R.

![](example.png)

出自<https://clincancerres.aacrjournals.org/content/26/1/135>
from<https://clincancerres.aacrjournals.org/content/26/1/135>

Figure 3. Alignment of PDAC metabolic subgroups with known gene expression subtypes.
A, Overlay of metabolic profiles (inner ring) with PDAC expression subtypes (outer rings) based on the Moffitt and colleagues’ (4), Bailey and colleagues’ (2), and Collisson and colleagues’ (3) classifications.

# 应用场景

将亚型（或其他分类变量）之间的映射关系（一致性）以圈状热图注释的方式展现。

我们还众筹过例文的Figure 1ABC，通过基因共识聚类选择共表达的基因集，随后根据表达谱中位数划分四类样本，可参考`FigureYa202consensusGene`

# Application Scenarios

The mapping (agreement) between subtypes (or other categorical variables) is presented as a circular heatmap annotation.

We have also crowdfunded Figure 1ABC for example, which selects co-expressed gene sets through gene consensus clustering, and then divides four types of samples according to the median expression profile, as shown in 'FigureYa202consensusGene'

# 环境设置


# Environment settings


```{r}
source("install_dependencies.R")

```

加载包
load packages

```{r}
library(circlize)
library(gridBase)
library(grid)
library(ComplexHeatmap)
library(SimDesign)

Sys.setenv(LANGUAGE = "en") #显示英文报错信息 # messages are displayed in English
options(stringsAsFactors = FALSE) #禁止chr转成factor # chr is not allowed to be converted to factor
```

# 输入文件

easy_input.txt，多组分类信息。也可用于FigureYa25Sankey，画成桑基图。

# Input the file

easy_input.txt. Multiple groups of classified information. It can also be used for FigureYa25Sankey, which is drawn as a Sankey diagram.
