---
title: "FigureYa159LR_RFV2"
author: "Xiaofan Lu"
reviewer: "Ying Ge, Junyi Shen"
date: "2025-5-20"
output: html_document
---

# Academic Citation
If you use this code in your work or research, we kindly request that you cite our publication:

Xiaofan Lu, et al. (2025). FigureYa: A Standardized Visualization Framework for Enhancing Biomedical Data Interpretation and Research Efficiency. iMetaMed. https://doi.org/10.1002/imm3.70005


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# 需求描述
# Requirement

虽然FigureYa65SVM里有lasso和SVM，还想试试RF和LR，而且用五折交叉验证画AUC也有点问题。
Although FigureYa65SVM includes lasso and SVM, I'd also like to try RF and LR. Also, plotting AUC using 5-fold cross-validation is a bit of a challenge.

![](example.png)

出自<https://www.nature.com/articles/ncomms4963>
From <https://www.nature.com/articles/ncomms4963>

Figure 3 | The predictive power of pseudogene expression in classification of UCEC subtypes. (a) The UCEC dataset (n 1⁄4 306) was split into training (n 1⁄4 223) and test (n 1⁄4 83) sets. (b) Schematic representation of feature selection and classifiers building through fivefold cross-validation within the training set. (c) The receiver operating characertistic curves of the three classifiers based on the cross-validation within the training set. (d) The receiver operating characertistic curve from applying the best-performing classifier (SVM) built from the whole training set to the test set.

# 应用场景
# Application scenarios

在LASSO降维的基础上，采用logistic regression或Random forest的方法，进行5-fold cross-validation评估LASSO selected feature的预测效能。
On the basis of LASSO dimensionality reduction, logistic regression or Random forest methods are used to conduct 5-fold cross-validation to evaluate the prediction performance of LASSO selected features.

# 环境设置
# Environment Setup


```{r}
source("install_dependencies.R")

```

加载包
Load the package

```{r}
library(glmnet) # 做LASSO和LR # Perform LASSO and LR
library(randomForest) # 做RF # Perform RF
library(pROC) # 绘制ROC # Plot ROC
Sys.setenv(LANGUAGE = "en") #显示英文报错信息 # Display English error messages
options(stringsAsFactors = FALSE) #禁止chr转成factor # Disable conversion of chr values to factors
```

# 输入文件
# Input File

easy_input.csv，带有分组信息的矩阵，这里用跟FigureYa65SVM同一个输入文件，数据预处理过程可参考FigureYa65SVM。
easy_input.csv, a matrix with grouping information. This is the same input file used for FigureYa65SVM. For data preprocessing, refer to FigureYa65SVM.

可自行准备，至少包含以下信息：
You can prepare this yourself, but it should contain at least the following information:

- 第一列：sample ID
- 第二列：样本分组信息，最好为二分类变量
- 第三列之后：表达矩阵

- First column: Sample ID
- Second column: Sample group information, preferably binary variables
- Third and subsequent columns: Expression matrix
