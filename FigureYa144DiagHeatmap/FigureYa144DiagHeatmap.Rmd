---
title: "FigureYa144DiagHeatmap"
author: "Xiaofan Lu"
reviewer: "Ying Ge, Junyi Shen"
date: "2025-5-20"
output: html_document
---

# Academic Citation
If you use this code in your work or research, we kindly request that you cite our publication:

Xiaofan Lu, et al. (2025). FigureYa: A Standardized Visualization Framework for Enhancing Biomedical Data Interpretation and Research Efficiency. iMetaMed. https://doi.org/10.1002/imm3.70005


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## 需求描述
## Requirement description

绘制元素对角化热图。
Draw the element diagonalization heat map.

![](example.png)

出自<https://molecular-cancer.biomedcentral.com/articles/10.1186/s12943-019-1066-3>
From <https://molecular-cancer.biomedcentral.com/articles/10.1186/s12943-019-1066-3>

Fig. 1 Pan-cancer genetic and expression alterations of m6A regulators. d The CNV alteration frequency of m6A regulators across cancer types. **The upper part of each grid shows the deletion frequency, and the bottom part shows the amplification frequency**.

## 应用场景
## Application scenarios

倘若同一对象的某一因素存在对立的两个水平，用经典热图展示这样的结构可能要画两次；那不如试试这幅对角热图，每个元素都分割成上下两块，完美展示对立水平哦～
If a factor of the same object has two opposing levels, it may take two times to display such a structure using a classic heat map; why not try this diagonal heat map, where each element is divided into two pieces, perfectly showing the opposing levels~

例如像例文这种展示某癌症的某基因存在拷贝数扩增和缺失的对立水平；
For example, the example shows that a gene in a certain cancer has opposing levels of copy number amplification and deletion;

或者同时展示基因在多个样品中的表达量（激活）和DNA甲基化水平（抑制）等等。
Or simultaneously display the expression level (activation) and DNA methylation level (inhibition) of a gene in multiple samples, etc.

## 环境设置
## Environment settings


```{r}
source("install_dependencies.R")

```

加载包
Load package

```{r}
library(reshape2)
library(RColorBrewer)

Sys.setenv(LANGUAGE = "en") #显示英文报错信息  #Display English error message
options(stringsAsFactors = FALSE) #禁止chr转成factor #Disable chr conversion to factor
```

## 输入文件
## Input file


easy_input_amp.txt和easy_input_del.txt，两个矩阵。分别对应热图中的左上角（amplification）和右下角（deletion）。例文是突变数据，每行一个基因，每列一种癌症类型，两个文件一一对应。还可以是基因表达量等数值。数据来源：例文的Additional file 1<https://static-content.springer.com/esm/art%3A10.1186%2Fs12943-019-1066-3/MediaObjects/12943_2019_1066_MOESM1_ESM.xlsx>
easy_input_amp.txt and easy_input_del.txt, two matrices. They correspond to the upper left corner (amplification) and lower right corner (deletion) in the heat map respectively. The example text is mutation data, one gene per row, one cancer type per column, and the two files correspond one to one. It can also be numerical values such as gene expression. Data source: Additional file 1 of the example article <https://static-content.springer.com/esm/art%3A10.1186%2Fs12943-019-1066-3/MediaObjects/12943_2019_1066_MOESM1_ESM.xlsx>

总之，把你自己的数据按照这两个文件的格式替换就好。
In short, just replace your own data according to the format of these two files.
